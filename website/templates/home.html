{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <!-- Home Page -->
    <div class="row">
        <div class="col-md-12 text-center">
            <h1 class="mb-4">Welcome to My Blog</h1>
            <p class="lead">I update this webserver daily.</p>
            <p>Feel free to check out the code in my GitHub repository!</p>
                    <!-- Display an Image -->
            <div class="my-4 text-center">
                <img src="{{ url_for('static', filename='images/LPP4.png') }}" alt="My Picture" class="img-fluid rounded shadow" width="300">
            </div>     
        </div>
    </div>
        

            <div class="container mt-5">
                <h1 class="text-center mb-4">:~whois DavidO</h1>
                <p class="text-center"><strong>TLDR:</strong> A nerd.</p>
                
                <div class="mb-4">
                    <h2>About Me</h2>
                    <p>
                        I'm an aspiring cybersecurity practitioner trying to make my debut into the of Information Technology. 
                        I intend to utilize the soft skills I obtained from years of being a server and bartender in the Service Industry 
                        and apply them to the customer service-based position I am currently seeking.
                    </p>
                    <p>
                        With the IT experience I gained working at Konica Minolta, I aim to secure an entry level help desk position 
                        and finally begin my career in IT. I believe my customer service skills, along with the CompTIA A+ Certification, 
                        will help me achieve this goal.
                    </p>
                    <p>
                        In the meantime, to gain personal experience, I conduct homelabs to analyze the traffic on my home network using 
                        tools like Wireshark and TCPdump. I set up this web server using Flask and Gunicorn on a Raspberry Pi. I'm using 
                        Nginx as a reverse proxy and also running a Pi-hole server for ad blocking.
                    </p>
                    <p>
                        It's been almost two years since I decided to make a career change into the Information Technology field, and I'm 
                        proud of how far I've come. I still remember trying to understand for the first time what an IDE (Integrated 
                        Development Environment) is. However, I am aware of the disadvantages of not having a formal education. For one, 
                        I sometimes lack guidance or a sense of direction, after all, There's so much to learn in Information Technology.
                    </p>
                </div>
            
                <div class="mb-4">
                    <h2>The knowledge is free..</h2>
                    <p>
                        <strong>DID YOU KNOW?</strong> Harvard University puts their ENTIRE 2023 CS50 course on YouTube for FREE? 
                        because I did not. literally the entire course samething that I would get if I was a student. I realized the degree is $50,000, 
                        and the knowledge is free. Now, the question is what good is the knowledge if I don't have the degree? and how do I prove that I have the knowledge?
                        From that point, I became increasingly interested in everything thats Computer Science. That CS50 course has probably been the best course on
                        Python that I've ever taken and I've taken many Intro To Python courses. I then focused on building my workstation at home,
                        to a complete home office setup with 3 monitors and 2 MFDs to maxamize productivity. At the same time, I was studying for the CompTIA A+ Certification 
                        because it was either CompTIA or Cisco and just like the CS50 course all of the material you need to pass the exam is free. 
                        I realize that I dont have anytime to waste.
                    </p>
                    <p>
                        My years in the Service Industry have taught me great customer service, communication, and conflict resolution skills. 
                        I always try to remain humble and ready to learn. I work well with others, but I flourish when I work alone. 
                        I'm adaptable, resilient, and patient.
                    </p>
                    <p>
                        I pride myself on my work ethic. I am loyal to a fault. I'm looking for longevity and for a company that I can 
                        provide value to, and in return, I can become part of the community. I am not looking for a job; I'm looking for a career.
                    </p>
                    <p>
                        I'm a believer in the formula: <strong>Luck = Preparation + Opportunity</strong>, and <strong>Value = Time + Focus (Energy)</strong>. 
                        I remember these formulas when I find myself distracted. They remind me of my goals and help me get back on track.
                    </p>
                    <p>
                        I started this web server about a month ago. You can check out the code in my 
                        <a href="https://github.com/blog_portfolio.git" target="_blank">GitHub repository</a>.
                    </p>
                </div>

                <!-- Link to Blog Page -->
                <div class="my-4 text-center">
                    <a href="{{ url_for('blog.view_blogposts') }}" class="btn btn-info btn-lg">Learn More About Me</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Notes Section -->
<div class="container-fluid mt-5">
    <div class="row">
        <div class="col-md-12">
            <h2 class="mb-4">Your Notes</h2>
            {% if user.notes %}
            <ul class="list-group list-group-flush mb-4" id="notes">
                {% for note in user.notes %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ note.data }}
                    <button type="button" class="btn btn-danger btn-sm" onClick="deleteNote('{{ note.id }}')">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p>Leave me a message!!</p>
            {% endif %}

            <!-- Add Note Form -->
            <form method="POST">
                {{ form.hidden_tag() }}
                {{ form.note(class="form-control mb-3", placeholder="Write your note here...") }}
                {{ form.submit(class="btn btn-primary") }}
            </form>
        </div>
    </div>
</div>

<script>
    function deleteNote(noteId) {
        const csrfToken = document.querySelector('input[name="csrf_token"]').value;
        console.log('Deleting note:', noteId, 'CSRF Token:', csrfToken);

        fetch(`/delete-note/${noteId}`, {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-Token': csrfToken
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            if (data.success) {
                window.location.href = '/?flash=success&message=' + encodeURIComponent(data.message || 'Note deleted successfully');
            } else {
                window.location.href = '/?flash=error&message=' + encodeURIComponent(data.message || 'Failed to delete note');
            }
        })
        .catch(error => {
            console.error('Error deleting note:', error);
            window.location.href = '/?flash=error&message=' + encodeURIComponent('An error occurred while deleting the note');
        });
    }
</script>
<div id="contact" class="container mt-5">
    <h2 class="text-center">Contact Me</h2>
    <p class="text-center">Feel free to reach out to me via email or LinkedIn!</p>
    <div class="text-center">
        <a href="mailto:david.onate312@gmail.com" class="btn btn-primary">Email Me</a>
        <a href="https://www.linkedin.com/in/davidonate312" target="_blank" class="btn btn-secondary">LinkedIn</a>
    </div>
</div>
{% endblock %}
