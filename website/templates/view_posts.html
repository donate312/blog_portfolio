{% extends "base.html" %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
<h1>Blog Posts</h1>

<div class="container">
    {% for post in posts %}
    <div class="card my-3">
        <div class="card-body">
            <h5 class="card-title">{{ post.title }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">By {{ post.author }} on {{ post.date_posted.strftime('%Y-%m-%d') }}</h6>
            <p class="card-text">{{ post.content }}</p>
            <!-- Delete Button -->
            <form method="POST" action="{{ url_for('blog.delete_post', post_id=post.id) }}" style="display: inline;">
                {{ csrf_token() }}
                <input type="hidden" name="_method" value="DELETE">
                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </div>
    </div>
    {% else %}
    <p>No blog posts available.</p>
    {% endfor %}
</div>
{% endblock %}
